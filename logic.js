const referenceLinks = [
    {
        "title": "Shop All Amazon Products",
        "description": "Click Open in browser to open in app",
        "image": "https://uploads-ssl.webflow.com/6438e33d3d4e697cb6cf555d/643ed90241d741a9a0f22e19_amazon-logo.jpeg",
        "link": "https://www.amazon.com/shop/justicethetutor"
    },

]

const products = [
    {
        "title": "Govee Meat Thermometer",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71FTjBVvhLL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3qqLUxt"
    },
    {
        "title": "Reusable Straws",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61+KfnRnx2L._AC_.jpg",
        "link": "https://amzn.to/3Noas3s"
    },
    {
        "title": "Fruit Washer",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71xkDMLPFbL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3N3OZey"
    },
    {
        "title": "Bottle Washer",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61fogFdzIoL._AC_SL1001_.jpg",
        "link": "https://amzn.to/3No9Gn4"
    },
    {
        "title": "Eggplant Sauce Bottle",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/716zhiMNcxL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3Nmm72F"
    },
    {
        "title": "Food Huggers",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71iE0MvSkRL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3CmRvaX"
    },
    {
        "title": "Wine Wash",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71snU6DP64L._AC_SL1500_.jpg",
        "link": "https://amzn.to/3N33OhC"
    },
    {
        "title": "Sliding Tray",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61GMSQxwpML._AC_SL1500_.jpg",
        "link": "https://amzn.to/43Qx1TB"
    },
    {
        "title": "Knife Cleaner",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71Aho0ghB3L._AC_SL1500_.jpg",
        "link": "https://amzn.to/3J7AS6K"
    },
    {
        "title": "Pickle Fork",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71O2Bbkv--L._AC_SL1500_.jpg",
        "link": "https://amzn.to/42yHAtm"
    },
    {
        "title": "Egg Holder",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61JLpQ0hvwL._AC_SL1500_.jpg",
        "link": "https://amzn.to/42zAAN9"
    },
    {
        "title": "Swiffer PowerMop",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/81ijxBfJSbL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3P4XaKo"
    },
    {
        "title": "Inkless Printer",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61bD00Xle5L._AC_SL1500_.jpg",
        "link": "https://amzn.to/3Cn02L0"
    },
    {
        "title": "Paper Towel Dispenser",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/51LwQIYeYpL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3oTb07X"
    },
    {
        "title": "Mop Slippers",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71U2R-2V+bL._SL1001_.jpg",
        "link": "https://amzn.to/45TeY10"
    },
    {
        "title": "Portable Washing Machine",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/515QdqehrkL._AC_SL1500_.jpg",
        "link": "https://amzn.to/45YfYkg"
    },
    {
        "title": "Banana Filler",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/81GFFLiZOCL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3WVMakp"
    },
    {
        "title": "Spinning Whisk",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61t-bMNX3SL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3NlSoqv"
    },
    {
        "title": "Waterproof Blankets",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/91VEEC2KBQL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3qHIvdG"
    },
    {
        "title": "Folding Board",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61h9Gzj+3nL._AC_SL1194_.jpg",
        "link": "https://amzn.to/3P532D9"
    },
    {
        "title": "Beverage Barricade",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/81BLDL0XxNL._AC_SL1500_.jpg",
        "link": "https://amzn.to/43TwaBy"
    },
    {
        "title": "Reusable Lint Roller",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/51M5kH29axL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3qzRYDZ"
    },
    {
        "title": "Egg Cracker",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/41vEPMx+h9L._AC_SL1500_.jpg",
        "link": "https://amzn.to/45O3OKO"
    },
    {
        "title": "Bedsure Dog Bed",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/81-8H5-UPRL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3qEEJlk"
    },
    {
        "title": "Vacuum Groomer",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61x6eI1AZeL._AC_SL1500_.jpg",
        "link": "https://amzn.to/45VeyHm"
    },
    {
        "title": "Bedsure Dog Bed",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71uqWPZVzfL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3OYO69Q"
    },
    {
        "title": "Talking Buttons",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/611RfFdL5aL._AC_SL1000_.jpg",
        "link": "https://amzn.to/3WZ6f9k"
    },
    {
        "title": "Poop Scooper",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61bcO2oBOKL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3MYA7Ov"
    },
    {
        "title": "Food Button",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61-PMn4WfGL._AC_SL1500_.jpg",
        "link": "https://amzn.to/42wZAUX"
    },
    {
        "title": "Paw Cleaner",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71D2Vym14XL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3oTVrg8"
    },
    {
        "title": "Body Scrubber",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61UfP8l-ZqL._SL1500_.jpg",
        "link": "https://amzn.to/43TxSmq"
    },
    {
        "title": "Tooletries Organizer",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/611jttXPUWL._AC_SL1500_.jpg",
        "link": "https://amzn.to/42wfE9B"
    },
    {
        "title": "Back Scrubber",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/51XIAWCHulL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3JawdRB"
    },
    {
        "title": "Sauna Dome",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/61LN53DQ5kL._AC_SL1500_.jpg",
        "link": "https://amzn.to/45Z7WYH"
    },
    {
        "title": "Sauna Blanket",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71T4L09-POL._AC_SL1500_.jpg",
        "link": "https://amzn.to/45TCCuf"
    },
    {
        "title": "Dive Cups",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71sCb4mCSzL._AC_SL1500_.jpg",
        "link": "https://amzn.to/3WXFVfY"
    },
    {
        "title": "Tea Trap",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/810uorgrwnL._AC_SL1500_.jpg",
        "link": "https://amzn.to/43Tyatw"
    },
    {
        "title": "Pasta Holder",
        "description": "asdsada",
        "image": "https://m.media-amazon.com/images/I/71O5cVAR14L._AC_SL1500_.jpg",
        "link": "https://amzn.to/43VQq5L"
    },

]

function loadReferenceLink(inputReferenceLinks) {
    const holder = document.getElementById("referenceLinkHolder");
    inputReferenceLinks.forEach((e) => {
        let anchorTag = document.createElement("a");
        let img = document.createElement("img");
        let div1 = document.createElement("div");
        let div2 = document.createElement("div");
        let div3 = document.createElement("div");
        let div4 = document.createElement("div");

        div1.className = "row gx-2 h-25 reference-cover mb-2";
        div2.className = "col-9";
        div3.className = "text-left";
        div4.className = "text-left small text-muted";
        img.className = "col-1 referenceLinkImage";

        div3.innerText = e.title;
        div4.innerText = e.description;
        anchorTag.href = e.link;
        img.src = e.image;

        div2.appendChild(div3);
        div2.appendChild(div4);
        div1.appendChild(img);
        div1.appendChild(div2);
        anchorTag.appendChild(div1);
        holder.appendChild(anchorTag);
    })
}

function loadProducts(inputProducts) {
    const holder = document.getElementById("productsHolder");
    inputProducts.forEach((e) => {
        let anchorTag = document.createElement("a");
        let img = document.createElement("img");
        let div1 = document.createElement("div");
        let div2 = document.createElement("div");
        let div3 = document.createElement("div");
        let div4 = document.createElement("div");
        let h6 = document.createElement("h6");

        div1.className = "col-4 col-xl-3 mb-2 product-card text-center";
        div2.className = "list-card bg-white h-100 rounded overflow-hidden position-relative shadow-sm";
        div3.className = "p-1 position-relative";
        div4.className = "list-card-body";
        anchorTag.className = "text-decoration-none";
        img.className = "img-fluid item-img";
        h6.className = "mb-1 text-black";

        h6.innerText = e.title;
        img.src = e.image;
        anchorTag.href = e.link;

        div4.appendChild(h6);
        div3.appendChild(div4);
        anchorTag.appendChild(img);
        anchorTag.appendChild(div3);
        div2.appendChild(anchorTag);
        div1.appendChild(div2);
        holder.appendChild(div1);

    });
}

function searchProduct(inputTitleProduct) {
    const arrayOfHTMLProducts = document.getElementsByClassName("product-card");

    Array.from(arrayOfHTMLProducts).reverse().forEach((e) => {
        if (e.children[0].children[0].children[1].children[0].children[0].innerText.toLowerCase().search(inputTitleProduct.toLowerCase()) === -1) {
            e.classList.remove('show');
            e.classList.add('hide');
        } else {
            e.classList.remove('hide');
            e.classList.add('show');
        }
    })
}

window.onload = () => {
    loadReferenceLink(referenceLinks);
    loadProducts(products);

    const searchBar = document.getElementById("searchBar");
    searchBar.addEventListener("keyup", (e) => {
        searchProduct(searchBar.value);
    });
};